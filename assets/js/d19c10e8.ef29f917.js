"use strict";(self.webpackChunkhyperion_docs=self.webpackChunkhyperion_docs||[]).push([[9754],{4230:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>u,frontMatter:()=>t,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"kronos/router_service/load_balancing","title":"\ud83d\udccc Load Balancing - \xc9quilibrage de Charge dans router-service","description":"\ud83d\ude80 Objectif","source":"@site/docs/kronos/router_service/load_balancing.md","sourceDirName":"kronos/router_service","slug":"/kronos/router_service/load_balancing","permalink":"/Hyperion-Docs/docs/kronos/router_service/load_balancing","draft":false,"unlisted":false,"editUrl":"https://github.com/Julien-Trastour/Hyperion-Docs.git/edit/main/docs/kronos/router_service/load_balancing.md","tags":[],"version":"current","frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"\ud83d\udccc Router-Service - API Gateway et Routage des Requ\xeates","permalink":"/Hyperion-Docs/docs/kronos/router_service/"},"next":{"title":"\ud83d\udccc Messaging-Service - Communication Inter-Services","permalink":"/Hyperion-Docs/docs/kronos/messaging_service/"}}');var i=r(4848),a=r(8453);const t={},o="\ud83d\udccc Load Balancing - \xc9quilibrage de Charge dans router-service",c={},l=[{value:"\ud83d\ude80 Objectif",id:"-objectif",level:2},{value:"\ud83d\udd11 Strat\xe9gies d\u2019\xc9quilibrage de Charge",id:"-strat\xe9gies-d\xe9quilibrage-de-charge",level:2},{value:"1\ufe0f\u20e3 <strong>Round Robin</strong> <em>(Par d\xe9faut)</em>",id:"1\ufe0f\u20e3-round-robin-par-d\xe9faut",level:3},{value:"2\ufe0f\u20e3 <strong>Least Connections</strong> <em>(Pr\xe9f\xe9r\xe9 si certaines requ\xeates sont longues)</em>",id:"2\ufe0f\u20e3-least-connections-pr\xe9f\xe9r\xe9-si-certaines-requ\xeates-sont-longues",level:3},{value:"3\ufe0f\u20e3 <strong>IP Hashing</strong> <em>(Pr\xe9serve la coh\xe9rence des sessions utilisateur)</em>",id:"3\ufe0f\u20e3-ip-hashing-pr\xe9serve-la-coh\xe9rence-des-sessions-utilisateur",level:3},{value:"4\ufe0f\u20e3 <strong>Load Balancing Dynamique avec Traefik</strong> <em>(Option avanc\xe9e)</em>",id:"4\ufe0f\u20e3-load-balancing-dynamique-avec-traefik-option-avanc\xe9e",level:3},{value:"\ud83d\udcca Surveillance et Optimisation",id:"-surveillance-et-optimisation",level:2},{value:"\ud83d\ude80 Bonnes Pratiques",id:"-bonnes-pratiques",level:2}];function d(e){const n={br:"br",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",p:"p",pre:"pre",strong:"strong",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsxs)(n.h1,{id:"-load-balancing---\xe9quilibrage-de-charge-dans-router-service",children:["\ud83d\udccc Load Balancing - \xc9quilibrage de Charge dans ",(0,i.jsx)(n.code,{children:"router-service"})]})}),"\n",(0,i.jsx)(n.h2,{id:"-objectif",children:"\ud83d\ude80 Objectif"}),"\n",(0,i.jsxs)(n.p,{children:["L\u2019\xe9quilibrage de charge permet de ",(0,i.jsx)(n.strong,{children:"r\xe9partir les requ\xeates"})," de mani\xe8re optimale entre plusieurs instances de microservices afin d\u2019assurer ",(0,i.jsx)(n.strong,{children:"performance, disponibilit\xe9 et r\xe9silience"}),"."]}),"\n",(0,i.jsx)(n.h2,{id:"-strat\xe9gies-d\xe9quilibrage-de-charge",children:"\ud83d\udd11 Strat\xe9gies d\u2019\xc9quilibrage de Charge"}),"\n",(0,i.jsxs)(n.h3,{id:"1\ufe0f\u20e3-round-robin-par-d\xe9faut",children:["1\ufe0f\u20e3 ",(0,i.jsx)(n.strong,{children:"Round Robin"})," ",(0,i.jsx)(n.em,{children:"(Par d\xe9faut)"})]}),"\n",(0,i.jsxs)(n.p,{children:["\u2705 R\xe9partition \xe9gale des requ\xeates entre les instances disponibles.",(0,i.jsx)(n.br,{}),"\n","\u2705 Simple \xe0 impl\xe9menter, efficace pour des charges \xe9quilibr\xe9es."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-nginx",children:"upstream backend {\n    server microservice1:3000;\n    server microservice2:3000;\n}\nserver {\n    location /api/ {\n        proxy_pass http://backend;\n    }\n}\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"2\ufe0f\u20e3-least-connections-pr\xe9f\xe9r\xe9-si-certaines-requ\xeates-sont-longues",children:["2\ufe0f\u20e3 ",(0,i.jsx)(n.strong,{children:"Least Connections"})," ",(0,i.jsx)(n.em,{children:"(Pr\xe9f\xe9r\xe9 si certaines requ\xeates sont longues)"})]}),"\n",(0,i.jsxs)(n.p,{children:["\u2705 Redirige les nouvelles connexions vers les instances les moins occup\xe9es.",(0,i.jsx)(n.br,{}),"\n","\u2705 Id\xe9al pour des microservices ayant des temps de traitement variables."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-nginx",children:"upstream backend {\n    least_conn;\n    server microservice1:3000;\n    server microservice2:3000;\n}\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"3\ufe0f\u20e3-ip-hashing-pr\xe9serve-la-coh\xe9rence-des-sessions-utilisateur",children:["3\ufe0f\u20e3 ",(0,i.jsx)(n.strong,{children:"IP Hashing"})," ",(0,i.jsx)(n.em,{children:"(Pr\xe9serve la coh\xe9rence des sessions utilisateur)"})]}),"\n",(0,i.jsxs)(n.p,{children:["\u2705 Redirige un utilisateur donn\xe9 vers ",(0,i.jsx)(n.strong,{children:"la m\xeame instance"})," \xe0 chaque requ\xeate.",(0,i.jsx)(n.br,{}),"\n","\u2705 Utile pour \xe9viter la perte de session sur des services n\xe9cessitant une continuit\xe9."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-nginx",children:"upstream backend {\n    ip_hash;\n    server microservice1:3000;\n    server microservice2:3000;\n}\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"4\ufe0f\u20e3-load-balancing-dynamique-avec-traefik-option-avanc\xe9e",children:["4\ufe0f\u20e3 ",(0,i.jsx)(n.strong,{children:"Load Balancing Dynamique avec Traefik"})," ",(0,i.jsx)(n.em,{children:"(Option avanc\xe9e)"})]}),"\n",(0,i.jsxs)(n.p,{children:["\u2705 Traefik d\xe9tecte ",(0,i.jsx)(n.strong,{children:"automatiquement les nouvelles instances"})," et ajuste le load balancing.",(0,i.jsx)(n.br,{}),"\n","\u2705 Int\xe9gration avec Kubernetes pour ",(0,i.jsx)(n.strong,{children:"auto-scaling"}),"."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-toml",children:'[http.services]\n  [http.services.api.loadBalancer]\n    [[http.services.api.loadBalancer.servers]]\n      url = "http://microservice1:3000"\n    [[http.services.api.loadBalancer.servers]]\n      url = "http://microservice2:3000"\n'})}),"\n",(0,i.jsx)(n.h2,{id:"-surveillance-et-optimisation",children:"\ud83d\udcca Surveillance et Optimisation"}),"\n",(0,i.jsxs)(n.p,{children:["\u2705 ",(0,i.jsx)(n.strong,{children:"Monitoring avec Prometheus/Grafana"})," pour visualiser la r\xe9partition de charge.",(0,i.jsx)(n.br,{}),"\n","\u2705 ",(0,i.jsx)(n.strong,{children:"D\xe9tection automatique des instances d\xe9faillantes"})," et r\xe9allocation des requ\xeates.",(0,i.jsx)(n.br,{}),"\n","\u2705 ",(0,i.jsx)(n.strong,{children:"Ajustement des param\xe8tres Nginx"})," pour \xe9viter la surcharge d\u2019une instance."]}),"\n",(0,i.jsx)(n.h2,{id:"-bonnes-pratiques",children:"\ud83d\ude80 Bonnes Pratiques"}),"\n",(0,i.jsxs)(n.p,{children:["\u2705 Toujours utiliser ",(0,i.jsx)(n.strong,{children:"un \xe9quilibrage de charge"})," pour assurer la scalabilit\xe9.",(0,i.jsx)(n.br,{}),"\n","\u2705 ",(0,i.jsx)(n.strong,{children:"Configurer une strat\xe9gie adapt\xe9e"})," selon le type de microservice.",(0,i.jsx)(n.br,{}),"\n","\u2705 ",(0,i.jsx)(n.strong,{children:"Surveiller la latence et la charge"})," pour ajuster dynamiquement les ressources."]}),"\n",(0,i.jsx)(n.hr,{})]})}function u(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>t,x:()=>o});var s=r(6540);const i={},a=s.createContext(i);function t(e){const n=s.useContext(a);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:t(e.components),s.createElement(a.Provider,{value:n},e.children)}}}]);