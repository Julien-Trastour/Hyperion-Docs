"use strict";(self.webpackChunkhyperion_docs=self.webpackChunkhyperion_docs||[]).push([[8660],{176:(e,s,r)=>{r.r(s),r.d(s,{assets:()=>d,contentTitle:()=>c,default:()=>h,frontMatter:()=>o,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"kronos/router_service/index","title":"\ud83d\udccc Router-Service - API Gateway et Routage des Requ\xeates","description":"\ud83d\ude80 R\xf4le","source":"@site/docs/kronos/router_service/index.md","sourceDirName":"kronos/router_service","slug":"/kronos/router_service/","permalink":"/hyperion-docs/docs/kronos/router_service/","draft":false,"unlisted":false,"editUrl":"https://github.com/Julien-Trastour/Hyperion-Docs.git/edit/main/docs/kronos/router_service/index.md","tags":[],"version":"current","frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"\ud83d\udccc Optimisation du Cache - Strat\xe9gies et Bonnes Pratiques","permalink":"/hyperion-docs/docs/kronos/cache_service/optimisation"},"next":{"title":"\ud83d\udccc Load Balancing - \xc9quilibrage de Charge dans router-service","permalink":"/hyperion-docs/docs/kronos/router_service/load_balancing"}}');var n=r(4848),t=r(8453);const o={},c="\ud83d\udccc Router-Service - API Gateway et Routage des Requ\xeates",d={},l=[{value:"\ud83d\ude80 R\xf4le",id:"-r\xf4le",level:2},{value:"\ud83d\udd11 Fonctions principales",id:"-fonctions-principales",level:2},{value:"\ud83d\udee0 Technologies utilis\xe9es",id:"-technologies-utilis\xe9es",level:2},{value:"\ud83d\udd17 Interactions avec les autres microservices",id:"-interactions-avec-les-autres-microservices",level:2},{value:"\ud83d\udce1 Endpoints API Principaux",id:"-endpoints-api-principaux",level:2},{value:"\ud83d\udd00 <strong>Gestion du Routage</strong>",id:"-gestion-du-routage",level:3},{value:"\ud83d\udd10 <strong>S\xe9curisation des API</strong>",id:"-s\xe9curisation-des-api",level:3},{value:"\ud83d\ude80 Optimisation et S\xe9curit\xe9",id:"-optimisation-et-s\xe9curit\xe9",level:2}];function a(e){const s={a:"a",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.header,{children:(0,n.jsx)(s.h1,{id:"-router-service---api-gateway-et-routage-des-requ\xeates",children:"\ud83d\udccc Router-Service - API Gateway et Routage des Requ\xeates"})}),"\n",(0,n.jsx)(s.h2,{id:"-r\xf4le",children:"\ud83d\ude80 R\xf4le"}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.code,{children:"router-service"})," est l\u2019",(0,n.jsx)(s.strong,{children:"API Gateway"})," de Kronos. Il g\xe8re ",(0,n.jsx)(s.strong,{children:"l\u2019acheminement des requ\xeates"})," vers les microservices appropri\xe9s, ",(0,n.jsx)(s.strong,{children:"s\xe9curise l\u2019acc\xe8s aux endpoints"}),", et ",(0,n.jsx)(s.strong,{children:"\xe9quilibre la charge"})," entre les services pour optimiser la performance."]}),"\n",(0,n.jsx)(s.h2,{id:"-fonctions-principales",children:"\ud83d\udd11 Fonctions principales"}),"\n",(0,n.jsxs)(s.p,{children:["\u2705 ",(0,n.jsx)(s.strong,{children:"Routage des requ\xeates API"})," en fonction des endpoints.",(0,n.jsx)(s.br,{}),"\n","\u2705 ",(0,n.jsx)(s.strong,{children:"Gestion des permissions et authentification"})," via JWT/OAuth.",(0,n.jsx)(s.br,{}),"\n","\u2705 ",(0,n.jsx)(s.strong,{children:"\xc9quilibrage de charge"})," entre les instances de microservices.",(0,n.jsx)(s.br,{}),"\n","\u2705 ",(0,n.jsx)(s.strong,{children:"Filtrage et validation des requ\xeates"})," pour \xe9viter les attaques.",(0,n.jsx)(s.br,{}),"\n","\u2705 ",(0,n.jsx)(s.strong,{children:"Mise en cache des r\xe9ponses courantes"})," pour acc\xe9l\xe9rer les temps de r\xe9ponse.",(0,n.jsx)(s.br,{}),"\n","\u2705 ",(0,n.jsx)(s.strong,{children:"Gestion des quotas et protection contre l\u2019abus d\u2019API (Rate Limiting)."})]}),"\n",(0,n.jsx)(s.h2,{id:"-technologies-utilis\xe9es",children:"\ud83d\udee0 Technologies utilis\xe9es"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"Nginx"})," pour le reverse proxy et l\u2019\xe9quilibrage de charge."]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"Node.js + Express"})," pour la logique API Gateway."]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"JWT/OAuth2"})," pour la gestion des acc\xe8s."]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"Redis"})," pour la mise en cache des routes et le contr\xf4le du Rate Limiting."]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"Traefik (optionnel)"})," pour la gestion avanc\xe9e des r\xe8gles de routage."]}),"\n"]}),"\n",(0,n.jsx)(s.h2,{id:"-interactions-avec-les-autres-microservices",children:"\ud83d\udd17 Interactions avec les autres microservices"}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{children:"\ud83d\udccc Microservice"}),(0,n.jsxs)(s.th,{children:["\ud83d\udd04 Interaction avec ",(0,n.jsx)(s.code,{children:"router-service"})]})]})}),(0,n.jsxs)(s.tbody,{children:[(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:(0,n.jsx)(s.a,{href:"/hyperion-docs/docs/kronos/auth_service/",children:"auth-service"})})}),(0,n.jsx)(s.td,{children:"V\xe9rification des tokens JWT et permissions"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:(0,n.jsx)(s.a,{href:"/hyperion-docs/docs/kronos/user_service/",children:"user-service"})})}),(0,n.jsx)(s.td,{children:"Gestion des acc\xe8s utilisateurs et des r\xf4les"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:(0,n.jsx)(s.a,{href:"/hyperion-docs/docs/kronos/log_service/",children:"log-service"})})}),(0,n.jsx)(s.td,{children:"Enregistrement des logs des requ\xeates API"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:(0,n.jsx)(s.a,{href:"/hyperion-docs/docs/kronos/cache_service/",children:"cache-service"})})}),(0,n.jsx)(s.td,{children:"Mise en cache des requ\xeates fr\xe9quentes"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:(0,n.jsx)(s.a,{href:"/hyperion-docs/docs/ouranos_crm/ouranos_crm_index",children:"Ouranos CRM"})})}),(0,n.jsx)(s.td,{children:"Routage des requ\xeates client"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:(0,n.jsx)(s.a,{href:"/hyperion-docs/docs/hyperion/hyperion_index",children:"Hyp\xe9rion"})})}),(0,n.jsx)(s.td,{children:"Redirection des commandes vers le robot"})]})]})]}),"\n",(0,n.jsx)(s.h2,{id:"-endpoints-api-principaux",children:"\ud83d\udce1 Endpoints API Principaux"}),"\n",(0,n.jsxs)(s.h3,{id:"-gestion-du-routage",children:["\ud83d\udd00 ",(0,n.jsx)(s.strong,{children:"Gestion du Routage"})]}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.code,{children:"GET /route/status"})," \u2192 V\xe9rification de l\u2019\xe9tat des services."]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.code,{children:"POST /route/register"})," \u2192 Ajout dynamique d\u2019une nouvelle route."]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.code,{children:"DELETE /route/remove/:id"})," \u2192 Suppression d\u2019une route."]}),"\n"]}),"\n",(0,n.jsxs)(s.h3,{id:"-s\xe9curisation-des-api",children:["\ud83d\udd10 ",(0,n.jsx)(s.strong,{children:"S\xe9curisation des API"})]}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.code,{children:"GET /auth/validate"})," \u2192 V\xe9rification d\u2019un token JWT."]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.code,{children:"GET /rate-limit"})," \u2192 Statut du contr\xf4le des quotas API."]}),"\n"]}),"\n",(0,n.jsx)(s.h2,{id:"-optimisation-et-s\xe9curit\xe9",children:"\ud83d\ude80 Optimisation et S\xe9curit\xe9"}),"\n",(0,n.jsxs)(s.p,{children:["\u2705 ",(0,n.jsx)(s.strong,{children:"Reverse proxy s\xe9curis\xe9"})," pour prot\xe9ger les microservices.",(0,n.jsx)(s.br,{}),"\n","\u2705 ",(0,n.jsx)(s.strong,{children:"D\xe9tection des requ\xeates suspectes"})," et blocage automatique.",(0,n.jsx)(s.br,{}),"\n","\u2705 ",(0,n.jsx)(s.strong,{children:"Scalabilit\xe9 avec \xe9quilibrage de charge"})," sur plusieurs instances.",(0,n.jsx)(s.br,{}),"\n","\u2705 ",(0,n.jsx)(s.strong,{children:"Surveillance et monitoring des requ\xeates"})," avec Prometheus/Grafana."]}),"\n",(0,n.jsx)(s.hr,{})]})}function h(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(a,{...e})}):a(e)}},8453:(e,s,r)=>{r.d(s,{R:()=>o,x:()=>c});var i=r(6540);const n={},t=i.createContext(n);function o(e){const s=i.useContext(t);return i.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:o(e.components),i.createElement(t.Provider,{value:s},e.children)}}}]);