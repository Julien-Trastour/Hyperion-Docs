"use strict";(self.webpackChunkhyperion_docs=self.webpackChunkhyperion_docs||[]).push([[2950],{8453:(e,s,n)=>{n.d(s,{R:()=>a,x:()=>o});var r=n(6540);const t={},i=r.createContext(t);function a(e){const s=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function o(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),r.createElement(i.Provider,{value:s},e.children)}},9216:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>c,contentTitle:()=>o,default:()=>u,frontMatter:()=>a,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"kronos/messaging_service/kafka_rabbitmq","title":"\ud83d\udccc Kafka vs RabbitMQ - Choix du Message Broker","description":"\ud83d\ude80 Objectif","source":"@site/docs/kronos/messaging_service/kafka_rabbitmq.md","sourceDirName":"kronos/messaging_service","slug":"/kronos/messaging_service/kafka_rabbitmq","permalink":"/hyperion-docs/docs/kronos/messaging_service/kafka_rabbitmq","draft":false,"unlisted":false,"editUrl":"https://github.com/Julien-Trastour/Hyperion-Docs.git/edit/main/docs/kronos/messaging_service/kafka_rabbitmq.md","tags":[],"version":"current","frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"\ud83d\udccc Messaging-Service - Communication Inter-Services","permalink":"/hyperion-docs/docs/kronos/messaging_service/"},"next":{"title":"\ud83d\udccc Database - Stockage Centralis\xe9 pour Kronos","permalink":"/hyperion-docs/docs/kronos/database/"}}');var t=n(4848),i=n(8453);const a={},o="\ud83d\udccc Kafka vs RabbitMQ - Choix du Message Broker",c={},l=[{value:"\ud83d\ude80 Objectif",id:"-objectif",level:2},{value:"\ud83d\udd04 Diff\xe9rences entre Kafka et RabbitMQ",id:"-diff\xe9rences-entre-kafka-et-rabbitmq",level:2},{value:"\ud83d\udcc2 Utilisation dans Kronos",id:"-utilisation-dans-kronos",level:2},{value:"\ud83d\udccc <strong>Kafka pour le streaming d\u2019\xe9v\xe9nements</strong>",id:"-kafka-pour-le-streaming-d\xe9v\xe9nements",level:3},{value:"\ud83d\udccc <strong>RabbitMQ pour les requ\xeates directes</strong>",id:"-rabbitmq-pour-les-requ\xeates-directes",level:3},{value:"\ud83d\ude80 Bonnes Pratiques et S\xe9curisation",id:"-bonnes-pratiques-et-s\xe9curisation",level:2}];function d(e){const s={br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.header,{children:(0,t.jsx)(s.h1,{id:"-kafka-vs-rabbitmq---choix-du-message-broker",children:"\ud83d\udccc Kafka vs RabbitMQ - Choix du Message Broker"})}),"\n",(0,t.jsx)(s.h2,{id:"-objectif",children:"\ud83d\ude80 Objectif"}),"\n",(0,t.jsxs)(s.p,{children:["Kronos utilise ",(0,t.jsx)(s.strong,{children:"Kafka et RabbitMQ"})," comme message brokers pour assurer ",(0,t.jsx)(s.strong,{children:"une communication asynchrone et scalable"})," entre les microservices. Ce fichier d\xe9taille leurs diff\xe9rences et leur utilisation dans ",(0,t.jsx)(s.code,{children:"messaging-service"}),"."]}),"\n",(0,t.jsx)(s.h2,{id:"-diff\xe9rences-entre-kafka-et-rabbitmq",children:"\ud83d\udd04 Diff\xe9rences entre Kafka et RabbitMQ"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"\ud83d\udccc Crit\xe8re"}),(0,t.jsx)(s.th,{children:"\ud83d\udd25 Kafka"}),(0,t.jsx)(s.th,{children:"\ud83d\udc07 RabbitMQ"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.strong,{children:"Mod\xe8le"})}),(0,t.jsx)(s.td,{children:"Bas\xe9 sur les logs (Event Streaming)"}),(0,t.jsx)(s.td,{children:"Bas\xe9 sur les files d\u2019attente (Message Queue)"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.strong,{children:"Scalabilit\xe9"})}),(0,t.jsx)(s.td,{children:"Con\xe7u pour le big data et haute scalabilit\xe9"}),(0,t.jsx)(s.td,{children:"Moins scalable, mais efficace pour le routage"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.strong,{children:"Performance"})}),(0,t.jsx)(s.td,{children:"Ultra rapide pour ingestion massive"}),(0,t.jsx)(s.td,{children:"Latence faible pour interactions rapides"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.strong,{children:"Persistance"})}),(0,t.jsx)(s.td,{children:"Stocke les messages m\xeame apr\xe8s lecture"}),(0,t.jsx)(s.td,{children:"Messages supprim\xe9s apr\xe8s consommation"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.strong,{children:"Cas d\u2019usage"})}),(0,t.jsx)(s.td,{children:"Streaming temps r\xe9el, gros volumes de donn\xe9es"}),(0,t.jsx)(s.td,{children:"Communication point \xe0 point, orchestration"})]})]})]}),"\n",(0,t.jsx)(s.h2,{id:"-utilisation-dans-kronos",children:"\ud83d\udcc2 Utilisation dans Kronos"}),"\n",(0,t.jsxs)(s.h3,{id:"-kafka-pour-le-streaming-d\xe9v\xe9nements",children:["\ud83d\udccc ",(0,t.jsx)(s.strong,{children:"Kafka pour le streaming d\u2019\xe9v\xe9nements"})]}),"\n",(0,t.jsxs)(s.p,{children:["\u2705 Utilis\xe9 pour ",(0,t.jsx)(s.strong,{children:"les logs, la surveillance des \xe9v\xe9nements et les grandes charges"}),".",(0,t.jsx)(s.br,{}),"\n","\u2705 Permet la ",(0,t.jsx)(s.strong,{children:"relecture des \xe9v\xe9nements"})," en cas de besoin.",(0,t.jsx)(s.br,{}),"\n","\u2705 Id\xe9al pour ",(0,t.jsx)(s.strong,{children:"Gaia"})," qui analyse les tendances et alertes."]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Exemple de production Kafka :"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-js",children:'const { Kafka } = require("kafkajs");\nconst kafka = new Kafka({ clientId: "kronos", brokers: ["kafka-broker:9092"] });\nconst producer = kafka.producer();\nawait producer.connect();\nawait producer.send({ topic: "logs", messages: [{ value: "Nouvelle entr\xe9e de log" }] });\n'})}),"\n",(0,t.jsxs)(s.h3,{id:"-rabbitmq-pour-les-requ\xeates-directes",children:["\ud83d\udccc ",(0,t.jsx)(s.strong,{children:"RabbitMQ pour les requ\xeates directes"})]}),"\n",(0,t.jsxs)(s.p,{children:["\u2705 Utilis\xe9 pour ",(0,t.jsx)(s.strong,{children:"les interactions temps r\xe9el et la distribution de messages courts"}),".",(0,t.jsx)(s.br,{}),"\n","\u2705 Id\xe9al pour ",(0,t.jsx)(s.strong,{children:"router les commandes API aux bons microservices"}),".",(0,t.jsx)(s.br,{}),"\n","\u2705 Gestion fine des files d\u2019attente avec accus\xe9 de r\xe9ception."]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Exemple de production RabbitMQ :"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-js",children:'const amqp = require("amqplib");\nconst connection = await amqp.connect("amqp://rabbitmq");\nconst channel = await connection.createChannel();\nawait channel.assertQueue("task_queue", { durable: true });\nchannel.sendToQueue("task_queue", Buffer.from("Nouvelle t\xe2che"), { persistent: true });\n'})}),"\n",(0,t.jsx)(s.h2,{id:"-bonnes-pratiques-et-s\xe9curisation",children:"\ud83d\ude80 Bonnes Pratiques et S\xe9curisation"}),"\n",(0,t.jsxs)(s.p,{children:["\u2705 ",(0,t.jsx)(s.strong,{children:"Kafka"})," pour les \xe9v\xe9nements critiques ",(0,t.jsx)(s.strong,{children:"(logs, audit, surveillance)"}),".",(0,t.jsx)(s.br,{}),"\n","\u2705 ",(0,t.jsx)(s.strong,{children:"RabbitMQ"})," pour ",(0,t.jsx)(s.strong,{children:"les \xe9changes directs et les t\xe2ches \xe0 court terme"}),".",(0,t.jsx)(s.br,{}),"\n","\u2705 ",(0,t.jsx)(s.strong,{children:"Chiffrement TLS"})," et ",(0,t.jsx)(s.strong,{children:"authentification forte"})," pour \xe9viter les \xe9coutes malveillantes.",(0,t.jsx)(s.br,{}),"\n","\u2705 ",(0,t.jsx)(s.strong,{children:"Surveillance des files d\u2019attente"})," pour \xe9viter l\u2019engorgement."]}),"\n",(0,t.jsx)(s.hr,{})]})}function u(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}}}]);